# douyin
抖音直播间不上榜协议
# 🚀 抖音直播间不上榜人气协议

> 一个基于抖音算法协议的程序，支持自动化设备注册、直播间不上榜人气智能重连、多进程并发管理。


## 📖 项目简介

本项目是一个抖音直播间人气管理系统，通过模拟Android设备实现与抖音直播间的在线人数人气的管理。系统采用分布式架构设计，支持大规模并发连接，具备智能重连、自动补齐、多进程管理等高级特性。

### 适用场景

- 直播间人气管理
- 批量注册设备信息过风控

---

## 🔬 核心技术

### 1. 设备指纹生成算法

系统实现了完整的Android设备指纹生成算法，包括：

- **UUID生成**：生成符合标准的设备唯一标识
- **设备参数随机化**：
  - OS版本随机（Android 5.x ~ 9.x）
  - 设备型号、品牌随机生成
  - ROM、UDID、OpenUDID随机化
  - 渠道标识生成

- **加密算法**：
  - 自定义加密算法（SHA256 + AES）
  - MD5校验和验证
  - Base64编码传输


### 2. 直播间人气

- **连接参数构建**：使用注册获得的device_id和install_id
- **心跳保活**：每20秒发送ping帧维持连接
- **自动重连**：连接断开后自动尝试重连
- **设备封禁检测**：识别封禁信号并自动重新注册新设备

### 3. 智能连接管理

#### 连接状态监控
```
活跃连接监控 → 失败检测 → 自动补齐 → 重新注册设备 → 建立新连接
```

#### 多线程架构
- **连接线程**：每个连接运行在独立线程
- **维护线程**：每10秒检查连接状态并自动补齐
- **监控线程**：每30秒输出连接统计信息
- **线程池管理**：动态调整线程池大小

---

## 🏗 系统架构

```
┌─────────────────────────────────────────────────────────┐
│                      主控制器层                          │
│              (DouyinManager - 任务调度)                  │
└────────────┬────────────────────────────────────────────┘
             │
    ┌────────┴────────┬─────────────┬──────────────┐
    │                 │             │              │
    ▼                 ▼             ▼              ▼
┌────────┐      ┌────────┐    ┌────────┐    ┌────────┐
│ 客户端1 │      │ 客户端2 │    │ 客户端N │    │ 维护线程 │
│ Thread │      │ Thread │    │ Thread │    │ Monitor │
└────────┘      └────────┘    └────────┘    └────────┘
    │                │             │              │
    ▼                ▼             ▼              ▼
┌───────────────────────────────────────────────────────┐
│              WebSocket连接池                          │
│       (自动重连 + 心跳保活 + 设备管理)                │
└───────────────────────────────────────────────────────┘
    │                │             │
    ▼                ▼             ▼
┌───────────────────────────────────────────────────────┐
│            抖音直播服务器                             │
└───────────────────────────────────────────────────────┘
```

---
## ✨ 功能特性

### 🎯 核心功能

1. **自动设备注册**
   - 随机生成设备参数
   - 自动完成设备注册流程
   - 设备信息本地备份

2. **直播间人气管理**
   - 使用注册的设备信息自动建立连接
   - 连接状态实时监控
   - 断线自动重连

3. **自动补齐机制**
   - 每10秒检查连接数
   - 自动补齐失效连接
   - 每次补齐都注册新设备

4. **设备封禁处理**
   - 自动检测设备封禁
   - 立即注册新设备
   - 无缝切换连接

5. **多进程管理**
   - 支持API自动化调度
   - 每个任务独立进程
   - 所有任务并发运行

### 📊 监控功能

- 实时连接数统计
- 活跃连接监控
- 失败连接清理
- 设备注册日志
- 进程状态追踪
